import{_ as e}from"./u-avatar.6928e28d.js";import{d as t,r as s,a,o as r,c as n,w as l,b as i,l as o,t as c,h as u,k as d,i as p,u as f,e as m,a8 as y,F as x,f as g,g as b,S as v,j as _,m as h,a9 as k,aa as j,ab as w}from"./index.6523cb5b.js";import{_ as O}from"./u-icon.8872894f.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as I}from"./u-image.7bffe717.js";import{n as L}from"./util.abc6df9d.js";import{_ as z}from"./tabbar.3072dbb1.js";import{a as U}from"./shop.a1b88dfa.js";var F=C(t({__name:"user-info",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},user:{type:Object,default:()=>({})},isLogin:{type:Boolean}},setup:t=>(f,m)=>{const y=s(a("u-avatar"),e),x=d,g=p,b=s(a("u-icon"),O);return r(),n(x,{class:"user-info flex px-[50rpx] justify-between py-[50rpx]"},{default:l((()=>[t.isLogin?(r(),n(g,{key:0,class:"flex items-center","hover-class":"none",url:"/pages/user_data/user_data"},{default:l((()=>[i(y,{src:t.user.avatar,size:120},null,8,["src"]),i(x,{class:"text-white ml-[20rpx]"},{default:l((()=>[i(x,{class:"text-2xl"},{default:l((()=>[o(c(t.user.nickname),1)])),_:1}),i(x,{class:"text-xs mt-[18rpx]"},{default:l((()=>[o("账号："+c(t.user.username),1)])),_:1})])),_:1})])),_:1})):(r(),n(g,{key:1,class:"flex items-center","hover-class":"none",url:"/pages/login/login"},{default:l((()=>[i(y,{src:"/static/images/user/default_avatar.png",size:120}),i(x,{class:"text-white text-3xl ml-[20rpx]"},{default:l((()=>[o("未登录")])),_:1})])),_:1})),t.isLogin?(r(),n(g,{key:2,"hover-class":"none",url:"/pages/user_set/user_set"},{default:l((()=>[i(b,{name:"setting",color:"#fff",size:58})])),_:1})):u("v-if",!0)])),_:1})}}),[["__scopeId","data-v-8892eef4"]]);const S=t({__name:"my-service",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:t}=f(),n=e=>{L(e)};return(l,o)=>{const d=s(a("u-image"),I),p=s(a("u-icon"),O);return r(),m("div",{class:"my-service bg-white mx-[20rpx] mt-[20rpx] rounded-lg"},[e.content.title?(r(),m("div",{key:0,class:"title px-[30rpx] py-[20rpx] border-light border-solid border-0 border-b"},[y("div",null,c(e.content.title),1)])):u("v-if",!0),1==e.content.style?(r(),m("div",{key:1,class:"flex flex-wrap pt-[40rpx] pb-[20rpx]"},[(r(!0),m(x,null,g(e.content.data,((e,s)=>(r(),m("div",{key:s,class:"flex flex-col items-center w-1/4 mb-[15px]",onClick:t=>n(e.link)},[i(d,{width:"52",height:"52",src:b(t)(e.image),alt:""},null,8,["src"]),y("div",{class:"mt-[7px]"},c(e.name),1)],8,["onClick"])))),128))])):u("v-if",!0),2==e.content.style?(r(),m("div",{key:2},[(r(!0),m(x,null,g(e.content.data,((e,s)=>(r(),m("div",{key:s,class:"flex items-center border-light border-solid border-0 border-b h-[100rpx] px-[24rpx]",onClick:t=>n(e.link)},[i(d,{width:"48",height:"48",src:b(t)(e.image),alt:""},null,8,["src"]),y("div",{class:"ml-[20rpx] flex-1"},c(e.name),1),y("div",{class:"text-muted"},[i(p,{name:"arrow-right"})])],8,["onClick"])))),128))])):u("v-if",!0)])}}}),B=t({__name:"user-banner",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:t}=f();return(o,c)=>{const p=s(a("u-image"),I),f=v,y=_,h=d;return e.content.data.length&&e.content.enabled?(r(),n(h,{key:0,class:"banner h-[200rpx] mx-[20rpx] mt-[20rpx] translate-y-0"},{default:l((()=>[i(y,{class:"swiper h-full","indicator-dots":e.content.data.length>1,"indicator-active-color":"#4173ff",autoplay:!0},{default:l((()=>[(r(!0),m(x,null,g(e.content.data,((e,s)=>(r(),n(f,{key:s,onClick:t=>{return s=e.limk,void L(s);var s}},{default:l((()=>[i(p,{mode:"aspectFit",width:"100%",height:"100%",src:b(t)(e.image),"border-radius":14},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1},8,["indicator-dots"])])),_:1})):u("v-if",!0)}}}),J=t({__name:"user",setup(e){const t=h({pages:[]}),o=k(),{userInfo:c,isLogin:p}=j(o);return w((()=>{o.getUser()})),(async()=>{const e=await U({id:2});t.pages=JSON.parse(e.pages)})(),(e,o)=>{const f=s(a("w-user-info"),F),y=s(a("w-my-service"),S),v=s(a("w-user-banner"),B),_=d,h=s(a("tabbar"),z);return r(),n(_,{class:"user"},{default:l((()=>[(r(!0),m(x,null,g(t.pages,((e,t)=>(r(),n(_,{key:t},{default:l((()=>["user-info"==e.name?(r(),n(f,{key:0,content:e.content,styles:e.styles,user:b(c),"is-login":b(p)},null,8,["content","styles","user","is-login"])):u("v-if",!0),"my-service"==e.name?(r(),n(y,{key:1,content:e.content,styles:e.styles},null,8,["content","styles"])):u("v-if",!0),"user-banner"==e.name?(r(),n(v,{key:2,content:e.content,styles:e.styles},null,8,["content","styles"])):u("v-if",!0)])),_:2},1024)))),128)),i(h)])),_:1})}}});export{J as default};
