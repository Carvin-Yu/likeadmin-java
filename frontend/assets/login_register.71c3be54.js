import{_ as v}from"./index.250c57ef.js";import{C as h,A as D,s as y,G as V,u as W,B as w}from"./element-plus.f93fd622.js";import{g as k,s as L}from"./user.93efd8d1.js";import{f as U}from"./index.86c64501.js";import{d as x,r as M,a0 as B,ag as O,o as _,c as q,V as t,M as a,a as o,U as d,O as S,L as $,T as s}from"./@vue.cab01781.js";import"./@vueuse.724ed0af.js";import"./@element-plus.92b4185f.js";import"./lodash-es.29c53eac.js";import"./dayjs.66926594.js";import"./axios.2d915936.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.b68d77aa.js";import"./vue-router.5046cc50.js";import"./pinia.e85e8286.js";import"./vue-demi.bfae2336.js";import"./css-color-function.a8f9466d.js";import"./color.903ca10f.js";import"./clone.9d64bb7a.js";import"./color-convert.69e17089.js";import"./color-string.e356f5de.js";import"./color-name.e7a4e1d3.js";import"./nprogress.a96d99f2.js";import"./echarts.6ad8c478.js";import"./zrender.f91f2f01.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.0ab41b7b.js";const j={class:"login-register"},N=o("div",{class:"font-medium mb-7"},"\u901A\u7528\u8BBE\u7F6E",-1),P=o("div",{class:"form-tips"},"\u7CFB\u7EDF\u901A\u7528\u767B\u5F55\u65B9\u5F0F\uFF0C\u81F3\u5C11\u9009\u62E9\u4E00\u9879",-1),Q={class:"mt-1 ml-2"},R=o("div",{class:"form-tips"},[s(" 1\u3001\u5982\u679C\u5F00\u542F\uFF0C\u5219\u65B0\u7528\u6237\u5728\u6CE8\u518C\u5B8C\u6210\u4E4B\u540E\u8981\u5F3A\u5236\u7ED1\u5B9A\u624B\u673A\u53F7"),o("br"),s(" 2\u3001\u8001\u7528\u6237\u767B\u5F55\u65F6\u5982\u679C\u68C0\u6D4B\u5230\u6CA1\u6709\u7ED1\u5B9A\u624B\u673A\uFF0C\u5219\u8981\u91CD\u65B0\u7ED1\u5B9A\u624B\u673A\u53F7 ")],-1),T={class:"mt-1 ml-2"},G=o("div",{class:"form-tips"}," \u767B\u5F55/\u6CE8\u518C\u4F1A\u5458\u65F6\uFF0C\u662F\u5426\u663E\u793A\u670D\u52A1\u534F\u8BAE\u548C\u9690\u79C1\u653F\u7B56 ",-1),I=o("div",{class:"font-medium mb-7"},"\u7B2C\u4E09\u65B9\u8BBE\u7F6E",-1),z={class:"mt-1 ml-2"},H=o("div",{class:"form-tips"},"\u767B\u5F55\u65F6\u652F\u6301\u7B2C\u4E09\u65B9\u767B\u5F55\uFF0C\u65B0\u7528\u6237\u6388\u6743\u5373\u81EA\u52A8\u6CE8\u518C\u8D26\u53F7",-1),J={href:"https://baidu.com",target:"_blank"},K=s("\u524D\u5F80\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0"),X=o("div",{class:"form-tips"},[s(" 1\u3001\u5728\u5404\u6E20\u9053\u4F7F\u7528\u5FAE\u4FE1\u6388\u6743\u767B\u5F55\u65F6\uFF0C\u5F3A\u70C8\u5EFA\u8BAE\u914D\u7F6E\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0"),o("br"),s(" 2\u3001\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\u5173\u8054\u516C\u4F17\u53F7\u3001\u5C0F\u7A0B\u5E8F\u548CAPP\u540E\uFF0C\u53EF\u5B9E\u73B0\u5404\u7AEF\u7528\u6237\u8D26\u53F7\u7EDF\u4E00\uFF0C\u8BC6\u522B\u4E70\u5BB6\u552F\u4E00\u5FAE\u4FE1\u8EAB\u4EFD"),o("br"),s(" 3\u3001\u6CA1\u6709\u914D\u7F6E\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\uFF0C\u540C\u4E00\u5FAE\u4FE1\u53F7\u4F1A\u751F\u6210\u591A\u4E2A\u7528\u6237\uFF0C\u914D\u7F6E\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\u540E\u5DF2\u751F\u6210\u7684\u7528\u6237\u8D26\u53F7\u65E0\u6CD5\u5408\u5E76 ")],-1),Y=s("\u4FDD\u5B58"),ku=x({__name:"login_register",setup(Z){const F=M(),u=B({loginWay:[],forceBindMobile:0,openAgreement:0,openOtherAuth:0,autoLoginAuth:[1,2]}),A=B({loginWay:[{required:!0,validator:(n,e,i)=>{if(u.loginWay.join("").length===0)i(new Error("\u767B\u5F55\u65B9\u5F0F\u81F3\u5C11\u9009\u62E9\u4E00\u9879\uFF01"));else{if(u.loginWay!==""){if(!F.value)return;F.value.validateField("checkPass",()=>null)}i()}},trigger:"change"}],forceBindMobile:[{required:!0,trigger:"blur"}],openAgreement:[{required:!0,trigger:"blur"}],openOtherAuth:[{required:!0,trigger:"blur"}]}),E=async()=>{try{const n=await k();for(const e in u)u[e]=n[e]}catch(n){console.log("\u83B7\u53D6=>",n)}},g=async()=>{var i;const n=u.loginWay.join(""),e=u.autoLoginAuth.join("");await((i=F.value)==null?void 0:i.validate());try{await L({...u,loginWay:n.length==2?`${n[0]},${n[1]}`:n,autoLoginAuth:e.length==2?`${e[0]},${e[1]}`:e}),U.msgSuccess("\u64CD\u4F5C\u6210\u529F"),E()}catch(r){console.log("\u4FDD\u5B58=>",r)}};return E(),(n,e)=>{const i=h,r=D,m=y,p=V,c=W,f=w,C=v,b=O("perms");return _(),q("div",j,[t(f,{ref_key:"formRef",ref:F,rules:A,model:u,"label-width":"120px"},{default:a(()=>[t(p,{shadow:"never",class:"!border-none"},{default:a(()=>[N,t(r,{label:"\u767B\u5F55\u65B9\u5F0F",prop:"loginWay"},{default:a(()=>[o("div",null,[t(i,{modelValue:u.loginWay[0],"onUpdate:modelValue":e[0]||(e[0]=l=>u.loginWay[0]=l),"true-label":1,"false-label":"",label:"\u767B\u5F55"},null,8,["modelValue"]),t(i,{modelValue:u.loginWay[1],"onUpdate:modelValue":e[1]||(e[1]=l=>u.loginWay[1]=l),"true-label":2,"false-label":"",label:"\u6CE8\u518C"},null,8,["modelValue"]),P])]),_:1}),t(r,{label:"\u5F3A\u5236\u7ED1\u5B9A\u624B\u673A",prop:"forceBindMobile"},{default:a(()=>[o("div",null,[t(m,{modelValue:u.forceBindMobile,"onUpdate:modelValue":e[2]||(e[2]=l=>u.forceBindMobile=l),"active-value":1,"inactive-value":0},null,8,["modelValue"]),o("span",Q,d(u.forceBindMobile?"\u5F00\u542F":"\u5173\u95ED"),1),R])]),_:1}),t(r,{label:"\u653F\u7B56\u534F\u8BAE",prop:"openAgreement"},{default:a(()=>[o("div",null,[t(m,{modelValue:u.openAgreement,"onUpdate:modelValue":e[3]||(e[3]=l=>u.openAgreement=l),"active-value":1,"inactive-value":0},null,8,["modelValue"]),o("span",T,d(u.openAgreement?"\u5F00\u542F":"\u5173\u95ED"),1),G])]),_:1})]),_:1}),t(p,{shadow:"never",class:"!border-none mt-4"},{default:a(()=>[I,t(r,{label:"\u7B2C\u4E09\u65B9\u767B\u5F55",prop:"openOtherAuth"},{default:a(()=>[o("div",null,[t(m,{modelValue:u.openOtherAuth,"onUpdate:modelValue":e[4]||(e[4]=l=>u.openOtherAuth=l),"active-value":1,"inactive-value":0},null,8,["modelValue"]),o("span",z,d(u.openOtherAuth?"\u5F00\u542F":"\u5173\u95ED"),1),H,o("div",null,[t(i,{modelValue:u.autoLoginAuth[0],"onUpdate:modelValue":e[5]||(e[5]=l=>u.autoLoginAuth[0]=l),"true-label":1,"false-label":"",label:"\u5FAE\u4FE1\u767B\u5F55"},null,8,["modelValue"]),t(i,{modelValue:u.autoLoginAuth[1],"onUpdate:modelValue":e[6]||(e[6]=l=>u.autoLoginAuth[1]=l),"true-label":2,"false-label":"",label:"QQ\u767B\u5F55"},null,8,["modelValue"])])])]),_:1}),t(r,{label:"\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0"},{default:a(()=>[o("div",null,[o("a",J,[t(c,{type:"primary",link:"",class:"underline"},{default:a(()=>[K]),_:1})]),X])]),_:1})]),_:1})]),_:1},8,["rules","model"]),S((_(),$(C,null,{default:a(()=>[t(c,{type:"primary",onClick:g},{default:a(()=>[Y]),_:1})]),_:1})),[[b,["setting:website:save"]]])])}}});export{ku as default};
