import{X as V,Q as $,R as N,C as S,w as h,N as P,I as L,o as T,D as I,F as M}from"./element-plus.151049e5.js";import{d as B,r as w,w as R,o as i,c as A,V as e,M as t,a as k,I as U,_ as z,L as v,W as O,a8 as q,T as r,a0 as j,s as H,ag as Q,U as m,O as C}from"./@vue.cab01781.js";import{c as W}from"./@vueuse.724ed0af.js";import{l as X,f as G,b as J}from"./index.0fa067ce.js";import{u as K}from"./vue-router.5046cc50.js";import{g as Y,u as Z}from"./consumer.8b356d54.js";import"./@element-plus.92b4185f.js";import"./lodash-es.29c53eac.js";import"./dayjs.66926594.js";import"./axios.2d915936.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.82a509e0.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.b68d77aa.js";import"./pinia.e85e8286.js";import"./vue-demi.bfae2336.js";import"./css-color-function.a8f9466d.js";import"./color.903ca10f.js";import"./clone.9d64bb7a.js";import"./color-convert.69e17089.js";import"./color-string.e356f5de.js";import"./color-name.e7a4e1d3.js";import"./nprogress.a96d99f2.js";import"./vue-clipboard3.91d4fd5f.js";import"./clipboard.c0a70c0c.js";import"./echarts.6ad8c478.js";import"./zrender.f91f2f01.js";import"./highlight.js.4ebdf9a4.js";import"./@highlightjs.0ab41b7b.js";const ee={class:"flex"},te={class:"popover-input__input mr-[10px] flex-1"},le={class:"popover-input__btns flex-none"},oe=r("\u53D6\u6D88"),ae=r("\u786E\u5B9A"),ne=["onClick"],se=B({__name:"index",props:{value:{type:String},type:{type:String,default:"text"},width:{type:[Number,String],default:250},placeholder:String,disabled:{type:Boolean,default:!1},options:{type:Array,default:()=>[]}},emits:["confirm"],setup(c,{emit:g}){const a=c,f=w(!1),b=w(!1),s=w(),p=()=>{x(),g("confirm",s.value)},l=()=>{a.disabled||(f.value=!0)},x=()=>{f.value=!1};return R(()=>a.value,F=>{s.value=F},{immediate:!0}),W(document.body,"click",()=>{b.value||x()}),(F,n)=>{const u=$,y=N,E=S,_=h,D=V;return i(),A("div",{onMouseenter:n[4]||(n[4]=o=>b.value=!0),onMouseleave:n[5]||(n[5]=o=>b.value=!1)},[e(D,{placement:"top",visible:f.value,"onUpdate:visible":n[3]||(n[3]=o=>f.value=o),width:c.width,trigger:"contextmenu",class:"popover-input",teleported:!1},{reference:t(()=>[k("div",{class:"inline",onClick:z(l,["stop"])},[U(F.$slots,"default")],8,ne)]),default:t(()=>[k("div",ee,[k("div",te,[c.type=="select"?(i(),v(y,{key:0,class:"flex-1",size:"small",modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=o=>s.value=o),teleported:!1},{default:t(()=>[(i(!0),A(O,null,q(c.options,o=>(i(),v(u,{key:o.value,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):(i(),v(E,{key:1,modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),modelModifiers:{trim:!0},type:c.type,size:"small",placeholder:c.placeholder},null,8,["modelValue","type","placeholder"]))]),k("div",le,[e(_,{link:"",onClick:n[2]||(n[2]=o=>f.value=!1)},{default:t(()=>[oe]),_:1}),e(_,{type:"primary",size:"small",onClick:p},{default:t(()=>[ae]),_:1})])])]),_:3},8,["visible","width"])],32)}}}),ue={class:"bg-page py-5 pl-20 mb-10"},re=k("div",{class:"mb-3 text-tx-regular"},"\u7528\u6237\u5934\u50CF",-1),ie=B({name:"consumerDetail"}),ze=B({...ie,setup(c){const g=K(),a=j({avatar:"",channel:"",createTime:"",lastLoginIp:"",lastLoginTime:"",mobile:"",nickname:"",realName:0,sex:0,sn:"",username:""}),f=H(),b=async()=>{const p=await Y({id:g.query.id});Object.keys(a).forEach(l=>{a[l]=p[l]})},s=async(p,l)=>{X(p)||(await Z({id:g.query.id,field:l,value:p}),G.msgSuccess("\u7F16\u8F91\u6210\u529F"),b())};return b(),(p,l)=>{const x=P,F=L,n=T,u=I,y=J,E=h,_=se,D=M,o=Q("perms");return i(),A("div",null,[e(F,{class:"!border-none",shadow:"never"},{default:t(()=>[e(x,{content:"\u7528\u6237\u8BE6\u60C5",onBack:l[0]||(l[0]=d=>p.$router.back())})]),_:1}),e(F,{class:"mt-4 !border-none",header:"\u57FA\u672C\u8D44\u6599",shadow:"never"},{default:t(()=>[e(D,{ref_key:"formRef",ref:f,class:"ls-form",model:a,"label-width":"120px"},{default:t(()=>[k("div",ue,[re,e(n,{src:a.avatar,size:58},null,8,["src"])]),e(u,{label:"\u7528\u6237\u7F16\u53F7\uFF1A"},{default:t(()=>[r(m(a.sn),1)]),_:1}),e(u,{label:"\u7528\u6237\u6635\u79F0\uFF1A"},{default:t(()=>[r(m(a.nickname),1)]),_:1}),e(u,{label:"\u8D26\u53F7\uFF1A"},{default:t(()=>[r(m(a.username)+" ",1),e(_,{class:"ml-[10px]",onConfirm:l[1]||(l[1]=d=>s(d,"username"))},{default:t(()=>[C((i(),v(E,{type:"primary",link:""},{default:t(()=>[e(y,{name:"el-icon-EditPen"})]),_:1})),[[o,["user:edit"]]])]),_:1})]),_:1}),e(u,{label:"\u771F\u5B9E\u59D3\u540D\uFF1A"},{default:t(()=>[r(m(a.realName||"-")+" ",1),e(_,{class:"ml-[10px]",onConfirm:l[2]||(l[2]=d=>s(d,"realName"))},{default:t(()=>[C((i(),v(E,{type:"primary",link:""},{default:t(()=>[e(y,{name:"el-icon-EditPen"})]),_:1})),[[o,["user:edit"]]])]),_:1})]),_:1}),e(u,{label:"\u6027\u522B\uFF1A"},{default:t(()=>[r(m(a.sex)+" ",1),e(_,{class:"ml-[10px]",type:"select",options:[{label:"\u672A\u77E5",value:0},{label:"\u7537",value:1},{label:"\u5973",value:2}],onConfirm:l[3]||(l[3]=d=>s(d,"sex"))},{default:t(()=>[C((i(),v(E,{type:"primary",link:""},{default:t(()=>[e(y,{name:"el-icon-EditPen"})]),_:1})),[[o,["user:edit"]]])]),_:1})]),_:1}),e(u,{label:"\u8054\u7CFB\u7535\u8BDD\uFF1A"},{default:t(()=>[r(m(a.mobile||"-")+" ",1),e(_,{class:"ml-[10px]",type:"number",onConfirm:l[4]||(l[4]=d=>s(d,"mobile"))},{default:t(()=>[C((i(),v(E,{type:"primary",link:""},{default:t(()=>[e(y,{name:"el-icon-EditPen"})]),_:1})),[[o,["user:edit"]]])]),_:1})]),_:1}),e(u,{label:"\u6CE8\u518C\u6765\u6E90\uFF1A"},{default:t(()=>[r(m(a.channel),1)]),_:1}),e(u,{label:"\u6CE8\u518C\u65F6\u95F4\uFF1A"},{default:t(()=>[r(m(a.createTime),1)]),_:1}),e(u,{label:"\u6700\u8FD1\u767B\u5F55\u65F6\u95F4\uFF1A"},{default:t(()=>[r(m(a.lastLoginTime),1)]),_:1})]),_:1},8,["model"])]),_:1})])}}});export{ze as default};
