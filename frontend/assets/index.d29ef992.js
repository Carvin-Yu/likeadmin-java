import{bA as $,d as V,a as w,o as x,h as v,b as D,e,w as o,b$ as P,x as q,j as s,k as y,l as n,f as u,g as m,p as _,$ as z,q as f}from"./index.1f7eca83.js";import{P as A}from"./index.a1383fca.js";import{P as N}from"./index.3374f628.js";import{u as j}from"./pages.6f843a4e.js";const M=V({components:{Pagination:A,Popup:N},setup(){const t=w({id:0,name:"",remark:"",create_time:"",num:0}),{pager:r,requestApi:i}=j({callback:v,params:t}),g=b=>{P({id:b}).then(p=>{console.log("res",p),i(),q({type:"success",message:"\u5220\u9664\u6210\u529F"})}).catch(p=>{console.log("err",p)})};return x(()=>{i()}),{formData:t,apiRoleLists:v,handleDelete:g,pager:r,requestApi:i}}}),R={class:"role"},T=f("\u65B0\u589E\u89D2\u8272"),I={class:"m-t-15"},L={class:"m-t-15"},S=f("\u7F16\u8F91"),U=f("\u5220\u9664"),G={class:"flex row-right"};function H(t,r,i,g,b,p){const d=s("el-button"),h=s("router-link"),a=s("el-table-column"),C=s("popup"),F=s("el-table"),k=s("pagination"),B=s("el-card"),c=y("perm"),E=y("loading");return n(),D("div",R,[e(B,{shadow:"never"},{default:o(()=>[e(h,{to:"/permission/role/edit"},{default:o(()=>[u((n(),m(d,{type:"primary",size:"small"},{default:o(()=>[T]),_:1})),[[c,["system:role:add"]]])]),_:1}),u((n(),D("div",I,[_("div",L,[e(F,{data:t.pager.lists,size:"medium"},{default:o(()=>[e(a,{prop:"id",label:"ID"}),e(a,{prop:"name",label:"\u540D\u79F0"}),e(a,{prop:"sort",label:"\u6392\u5E8F"}),e(a,{prop:"remark",label:"\u5907\u6CE8"}),e(a,{prop:"isDisable",label:"\u72B6\u6001"},{default:o(l=>[_("span",null,z(l.row.isDisable==0?"\u542F\u7528":"\u5173\u95ED"),1)]),_:1}),e(a,{prop:"",label:"\u6743\u9650"}),e(a,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4"}),e(a,{prop:"",label:"\u64CD\u4F5C"},{default:o(({row:l})=>[u((n(),m(h,{class:"m-r-10",to:{path:"/permission/role/edit",query:{id:l.id}}},{default:o(()=>[e(d,{type:"text",size:"mini"},{default:o(()=>[S]),_:1})]),_:2},1032,["to"])),[[c,["system:role:edit"]]]),u((n(),m(C,{class:"m-r-10 inline",onConfirm:J=>t.handleDelete(l.id)},{trigger:o(()=>[e(d,{type:"text",size:"mini"},{default:o(()=>[U]),_:1})]),_:2},1032,["onConfirm"])),[[c,["system:role:del"]]])]),_:1})]),_:1},8,["data"])]),_("div",G,[e(k,{modelValue:t.pager,"onUpdate:modelValue":r[0]||(r[0]=l=>t.pager=l),layout:"total, prev, pager, next, jumper",onChange:t.requestApi},null,8,["modelValue","onChange"])])])),[[E,t.pager.loading]])]),_:1})])}var X=$(M,[["render",H]]);export{X as default};
