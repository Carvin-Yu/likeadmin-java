var w=Object.defineProperty,y=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var D=(u,o,s)=>o in u?w(u,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):u[o]=s,V=(u,o)=>{for(var s in o||(o={}))x.call(o,s)&&D(u,s,o[s]);if(v)for(var s of v(o))A.call(o,s)&&D(u,s,o[s]);return u},C=(u,o)=>y(u,h(o));import{F as S}from"./index.7c865a01.js";import{f as R,g as U,h as I}from"./organize.c8fb0ebd.js";import{_ as q,u as z}from"./index.4abbfa5a.js";import{d as N,c as P,y as $,t as M,X as T,A as j,r as m,a as X,i as e,w as d,o as G,_ as a,$ as H,p as J,j as K,k as L,E as O,f as Q}from"./vendor.26ab8f26.js";const W=u=>(J("data-v-eef24b20"),u=u(),K(),u),Y={class:"post-edit"},Z=W(()=>Q("div",{class:"muted"},"\u9ED8\u8BA4\u4E3A0\uFF0C \u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D",-1)),ee=L("\u4FDD\u5B58"),ue=N({setup(u){const{router:o,route:s}=z(),p=P(()=>{var n;return(n=s.query)==null?void 0:n.id}),c=$(null),{formData:t,rules:B}=M(T({formData:{name:"",code:"",sort:0,remarks:"",isStop:0},rules:{code:[{required:!0,message:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801",trigger:["blur"]}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0",trigger:["blur"]}]}})),b=()=>{!p.value||R({id:p.value}).then(n=>{t.value=n})},g=()=>{var n;(n=c.value)==null||n.validate(l=>{if(!l)return;(p.value?U(C(V({},t.value),{id:p.value})):I(t.value)).then(()=>{setTimeout(()=>o.go(-1),500),O({type:"success",message:"\u4FDD\u5B58\u6210\u529F"})})})};return j(()=>{b()}),(n,l)=>{const F=m("el-page-header"),f=m("el-card"),_=m("el-input"),i=m("el-form-item"),E=m("el-switch"),k=m("el-button");return G(),X("div",Y,[e(f,{shadow:"never"},{default:d(()=>[e(F,{content:a(p)?"\u7F16\u8F91\u5C97\u4F4D":"\u65B0\u589E\u5C97\u4F4D",onBack:l[0]||(l[0]=r=>n.$router.back())},null,8,["content"])]),_:1}),e(f,{shadow:"never",class:"m-t-15"},{default:d(()=>[e(a(H),{ref_key:"formRefs",ref:c,rules:a(B),class:"ls-form",model:a(t),"label-width":"150px",size:"small"},{default:d(()=>[e(i,{label:"\u5C97\u4F4D\u540D\u79F0",prop:"name"},{default:d(()=>[e(_,{modelValue:a(t).name,"onUpdate:modelValue":l[1]||(l[1]=r=>a(t).name=r),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(i,{label:"\u5C97\u4F4D\u7F16\u7801",prop:"code"},{default:d(()=>[e(_,{modelValue:a(t).code,"onUpdate:modelValue":l[2]||(l[2]=r=>a(t).code=r),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801"},null,8,["modelValue"])]),_:1}),e(i,{label:"\u6392\u5E8F",prop:"sort"},{default:d(()=>[e(_,{modelValue:a(t).sort,"onUpdate:modelValue":l[3]||(l[3]=r=>a(t).sort=r),placeholder:"\u8BF7\u8F93\u5165\u6392\u5E8F",type:"number"},null,8,["modelValue"]),Z]),_:1}),e(i,{label:"\u5907\u6CE8",prop:"remarks"},{default:d(()=>[e(_,{modelValue:a(t).remarks,"onUpdate:modelValue":l[4]||(l[4]=r=>a(t).remarks=r),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",type:"textarea",autosize:{minRows:4,maxRows:6}},null,8,["modelValue"])]),_:1}),e(i,{label:"\u5C97\u4F4D\u72B6\u6001"},{default:d(()=>[e(E,{modelValue:a(t).isStop,"onUpdate:modelValue":l[5]||(l[5]=r=>a(t).isStop=r),"active-value":0,"inactive-value":1},null,8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1}),e(S,null,{default:d(()=>[e(k,{type:"primary",size:"small",onClick:g},{default:d(()=>[ee]),_:1})]),_:1})])}}});var re=q(ue,[["__scopeId","data-v-eef24b20"]]);export{re as default};
